<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>make_pie_charts.py – Make pie charts based on taxonomy assignment &mdash; Homepage</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Homepage" href="../index.html" />
    <link rel="up" title="Scripts - Analyses and Parameters" href="../doc_script_index.html" />
    <link rel="next" title="make_otu_heatmap_html.py – Make heatmap of OTU table" href="make_otu_heatmap_html.html" />
    <link rel="prev" title="make_distance_histograms.py – Make distance histograms" href="make_distance_histograms.html" /> 
  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 0px">
<a href="../index.html"><img src="../_static/wordpressheader.png" border="0" alt="sampledoc"/></a>
</div>
<div class="news" style="background-color:#ccc;">
	<p style="font-size:12pt;padding: 5px;"><b>News and Announcements &raquo;</b>
<script type="text/javascript" src="http://app.feed.informer.com/digest3/U9OLMKHF9N.js"><noscript><a href="http://app.feed.informer.com/digest3/U9OLMKHF9N.html">Click for &quot;QIIME&quot;.</a> Powered by <a href="http://feed.informer.com/">RSS Feed Informer</a></noscript></script></p>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="make_otu_heatmap_html.html" title="make_otu_heatmap_html.py – Make heatmap of OTU table"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="make_distance_histograms.html" title="make_distance_histograms.py – Make distance histograms"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Home</a> &raquo;</li>
          <li><a href="../documentation.html" >QIIME Documentation</a> &raquo;</li>
          <li><a href="../doc_script_index.html" accesskey="U">Scripts - Analyses and Parameters</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="make-pie-charts"></span><div class="section" id="make-pie-charts-py-make-pie-charts-based-on-taxonomy-assignment">
<span id="index-112"></span><h1><em>make_pie_charts.py</em> &#8211; Make pie charts based on taxonomy assignment<a class="headerlink" href="#make-pie-charts-py-make-pie-charts-based-on-taxonomy-assignment" title="Permalink to this headline">¶</a></h1>
<p><strong>Description:</strong></p>
<p>This script automates the construction of pie charts showing the breakdown of taxonomy by given levels. The script creates an html file for easy visualization of all of the pie charts on the same page. It uses the taxonomy or category counts from <a class="reference external" href="./summarize_taxa.html">summarize_taxa.py</a> for combined samples by level (-i) and user specified labels for each file passed in (-l). Output will be in a randomly generated folder name within the user specified folder (-o) the default is the current working directory. There is also additional functionality that breaks each taxonomic level up by sample (-s). This will create a pie chart for each sample at each specified level. The user can also specify the number of categories displayed in a single pie charts the rest are grouped together as &#8216;other category&#8217; (-n) default is 20.</p>
<p><strong>Usage:</strong> <tt class="docutils literal"><span class="pre">make_pie_charts.py</span> <span class="pre">[options]</span></tt></p>
<p><strong>Input Arguments:</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>[REQUIRED]</strong></p>
<dl class="docutils">
<dt>-i, <cite>-</cite>-input_files</dt>
<dd>List of files with sample counts by taxonomy [REQUIRED]</dd>
<dt>-l, <cite>-</cite>-labels</dt>
<dd>List of labels for pie chart(i.e. Phylum,Class)[REQUIRED]</dd>
</dl>
<p><strong>[OPTIONAL]</strong></p>
<dl class="last docutils">
<dt>-s, <cite>-</cite>-sample_flag</dt>
<dd>If True pie charts will be created for each sample</dd>
<dt>-n, <cite>-</cite>-num</dt>
<dd>Maximum number of individual categories in each pie chart. All additional categories are grouped into an &#8220;other&#8221; category. [default: 20]</dd>
<dt>-o, <cite>-</cite>-dir-prefix</dt>
<dd>Directory prefix for all analyses</dd>
</dl>
</div>
<p><strong>Output:</strong></p>
<p>The script generates an output folder, which contains several files. For each pie chart there is a png and a pdf file. The best way to view all of the pie charts is by opening up the file taxonomy_summary_pie_chart.html.</p>
<p><strong>Examples:</strong></p>
<p>If you wish to run the code using default parameters, you must supply a counts file (Class.txt) along with the taxon level label (Class), by using the following command:</p>
<div class="highlight-python"><pre>make_pie_charts.py -i Class.txt -l Class</pre>
</div>
<p>If you want to make pie charts for multiple levels at a time (phylum.txt,class.txt,genus.txt) use the following command:</p>
<div class="highlight-python"><pre>make_pie_charts.py -i phylum.txt,class.txt,genus.txt -l phylum,class,genus</pre>
</div>
<p>If you want specify an output directory (e.g. &#8220;pie_charts/&#8221;, regardless of whether the directory exists, use the following command:</p>
<div class="highlight-python"><pre>make_pie_charts.py -i Class.txt -l Class -o pie_charts/</pre>
</div>
<p>Additionally, if you would like to display on a set number of taxa (&#8220;-n 10&#8221;) and generate pie charts for all samples (&#8220;-s&#8221;), you can use the following command:</p>
<div class="highlight-python"><pre>make_pie_charts.py -i Class.txt -l Class -o pie_charts/ -n 10 -s</pre>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

    


            <h4>Previous topic</h4>
            <p class="topless"><a href="make_distance_histograms.html"
                                  title="previous chapter"><em>make_distance_histograms.py</em> &#8211; Make distance histograms</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="make_otu_heatmap_html.html"
                                  title="next chapter"><em>make_otu_heatmap_html.py</em> &#8211; Make heatmap of OTU table</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/scripts/make_pie_charts.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="make_otu_heatmap_html.html" title="make_otu_heatmap_html.py – Make heatmap of OTU table"
             >next</a> |</li>
        <li class="right" >
          <a href="make_distance_histograms.html" title="make_distance_histograms.py – Make distance histograms"
             >previous</a> |</li>
        <li><a href="../index.html">Home</a> &raquo;</li>
          <li><a href="../documentation.html" >QIIME Documentation</a> &raquo;</li>
          <li><a href="../doc_script_index.html" >Scripts - Analyses and Parameters</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2010, QIIME Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>